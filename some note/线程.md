进程是一个比较重的东西，代表一个程序执行所处的环境。但是在程序内部有个轻量级的代码执行单元称为线程。

一个进程可以有一个或者多个线程，所有线程共用进程的内存空间（代码段，数据段，堆）。线程出现的原因是因为有的操作可能会有很久的等待，例如网络请求，磁盘文件读写等。现在多 CPU 和多核的计算机普遍开，所以本身就具备了同时执行多个线程的能力。但是无论是多核还是单核，线程永远是并发执行。线程可以访问当前进程内存里所有数据，但是寄存器是每个核心执行的基本数据，所以是当前线程专属的。

当线程数大于核心数的时候，有的线程的并发会受到一些阻碍，每个线程都有三个状态：
- 正在运行
- 就绪，随时可运行但是目前 CPU 被占用
- 等待，如网络 IO，目前无法执行

主流操作系统都会有线程的调度算法，大部分都是基于优先级和轮转发的原理来实现。优先级调度的环境下一般分为三种方式。
- 用户指定优先级
- 长时间得不到运行而被系统提升优先级
- 根据等待状态的频繁程度而被系统提升或者降低

